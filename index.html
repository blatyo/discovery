<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Discovery</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script type="text/x-handlebars">
    <div class='container'>
      <h1 class='hook'>Trade your device</h1>
      {{render 'stack' stack}}
      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name='stacks'>
    {{#each}}
      {{render 'stack' stack}}
    {{/each}}
  </script>

  <script type="text/x-handlebars" data-template-name='stack'>
    {{#if isProductStack}}
      {{partial 'stack/product'}}
    {{else}}
      {{partial 'stack/options'}}
    {{/if}}
  </script>

  <script type="text/x-handlebars" data-template-name='stack/_options'>
    <nav {{bind-attr class=":stack apiName"}}>
      <h4 class='stack-help'>What {{name}} do I have?</h4>
      <ul class='stack-options'>
        {{#each options}}
          {{render 'option' this}}
        {{/each}}
      </ul>
    </nav>
  </script>

  <script type="text/x-handlebars" data-template-name='stack/_product'>
    <section {{bind-attr class=":stack apiName"}}>
      {{render 'product' product}}
    </section>
  </script>

  <script type="text/x-handlebars" data-template-name='option'>
    {{#link-to 'stacks' path tag='li' classNameBindings=':option apiName selected'}}
      <figure class='option-figure'>
        <img {{bind-attr src=imageUrl}} class='option-image'>
        <figcaption class='option-name'>{{name}}</figcaption>
      </figure>
    {{/link-to}}
  </script>

  <script type="text/x-handlebars" data-template-name="product">
    <img {{bind-attr src=imageUrl}} class='option-image'>
    <h4 class='option-name'>{{name}}<h4>
    ${{price}}
    {{expirationDate}}
  </script>

  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.5.0.js"></script>
  <script src="js/libs/ember-data-1.0.0-beta7.js"></script>
  <script src="js/app.js"></script>
  <!-- to activate the test runner, add the "?test" query string parameter -->
  <script src="tests/runner.js"></script>
</body>
</html>
